```{r}
library(dplyr)
library(httr2)
library(jsonlite)
library(tidyverse)
library(here)
library(ggplot2)
```


```{r}
base_url <- "https://www.googleapis.com/youtube/v3/search"

request(base_url) |>
  req_url_query(key = "AIzaSyAIwrxxFeKDjOpkYYbUh_onEg_o3-Xktjg") |>
  req_perform() -> resp

resp |>
  resp_body_json() -> ex1
```

```{r}
base_url <- "https://www.googleapis.com/youtube/v3/search"
channlid <- function(x) {
  request(base_url) |>
    req_url_query(key = "AIzaSyAIwrxxFeKDjOpkYYbUh_onEg_o3-Xktjg",
                  part = "snippet",
                  q = x) |>
    req_perform() |>
    resp_body_json() -> x
    assign("x", x[["items"]][[1]][["snippet"]][["channelId"]], envir = .GlobalEnv)
}
```

```{r}
my_list <- list()
for (x in a_vector) {
  channlid(x) -> y
  my_list[x] <- y
} 


```



